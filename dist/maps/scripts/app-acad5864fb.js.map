{"version":3,"sources":["scripts/app-acad5864fb.js"],"names":["angular","module","arrayUtil","ascSortList","list","attribute","sort","a","b","isNaN","toLowerCase","descSortList","filterUniqueItems","prims","boolean","number","string","objs","filter","item","type","hasOwnProperty","indexOf","push","this","service","tableService","getNumberOfPages","dataSet","pagesNumber","parseInt","length","stepSize","filterDataByPage","pageNumber","dataToFilter","startIndex","endIndex","slice","getIndexOfItem","arrayList","itemToFind","i","toJson","chnageTablePage","table","pagesArray","currentPage","filteredFiles","allFiles","visiblePagesArray","updateTableWithNewDataSet","newDataSet","isGrouped","skipSort","numberOfPages","Array","newPage","sortFilesBy","initialFilesList","sortedBy","sortOrder","groupByAttribute","goupedFileList","allAttributesList","forEach","file","attributeGroupList","attributeGroup","filesUnderGroup","groupObject","concat","$inject","fileListService","$http","$q","getListOfFiles","deferred","defer","url","method","dataType","data","headers","Content-Type","JsonStub-User-Key","JsonStub-Project-Key","then","response","resolve","reject","promise","MainController","$log","$timeout","vm","log","reason","error","initialFileIndex","modalFile","groupedBy","floatTheadOptions","top","position","sortBy","getGroupByText","toggleFileSelect","selected","selectFile","selectedFile","fromJson","saveChanges","deleteFile","splice","controller","runBlock","debug","run","routeConfig","$routeProvider","when","templateUrl","controllerAs","otherwise","redirectTo","config","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"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","file":"scripts/app-acad5864fb.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('sbApp',\n        ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize',\n          'ngMessages', 'ngAria', 'ngResource', 'ngRoute', 'ui.bootstrap',\n            'toastr', 'floatThead']);\n})();\n\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('sbApp')\r\n        .service('arrayUtil', arrayUtil);\r\n\r\n    /** @ngInject */\r\n    function arrayUtil() {\r\n\r\n        this.ascSortList = ascSortList;\r\n        this.descSortList = descSortList;\r\n        this.filterUniqueItems = filterUniqueItems;\r\n\r\n        function ascSortList(list, attribute) {\r\n            list.sort(function(a, b) {\r\n                if(isNaN(a[attribute]) && isNaN(b[attribute])) {\r\n                    if (a[attribute].toLowerCase() < b[attribute].toLowerCase()) {\r\n                        return -1;\r\n                    }\r\n                    if (a[attribute].toLowerCase() > b[attribute].toLowerCase()) {\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                } else {\r\n                    return a[attribute] - b[attribute];\r\n                }\r\n            });\r\n        }\r\n\r\n        function descSortList(list, attribute) {\r\n            list.sort(function(a, b) {\r\n                if(isNaN(a[attribute]) && isNaN(b[attribute])) {\r\n                    if (b[attribute].toLowerCase() < a[attribute].toLowerCase()) {\r\n                        return -1;\r\n                    }\r\n                    if (b[attribute].toLowerCase() > a[attribute].toLowerCase()) {\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                } else {\r\n                    return b[attribute] - a[attribute];\r\n                }\r\n            });\r\n        }\r\n\r\n        /*\r\n        * Remove duplicates, it uses hash lookups for primitives and linear search for objects\r\n        * */\r\n        function filterUniqueItems(a) {\r\n            var prims = {\"boolean\":{}, \"number\":{}, \"string\":{}}, objs = [];\r\n\r\n            return a.filter(function(item) {\r\n                var type = typeof item;\r\n                if(type in prims)\r\n                    return prims[type].hasOwnProperty(item) ? false : (prims[type][item] = true);\r\n                else\r\n                    return objs.indexOf(item) >= 0 ? false : objs.push(item);\r\n            });\r\n        }\r\n    }\r\n\r\n})();\r\n\n/**\r\n * Created by mabo on 10/21/2015.\r\n */\r\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('sbApp')\r\n        .service('tableService', tableService);\r\n\r\n    /** @ngInject */\r\n    function tableService(arrayUtil) {\r\n        var stepSize = 20;\r\n\r\n        this.getNumberOfPages = getNumberOfPages;\r\n        this.filterDataByPage = filterDataByPage;\r\n        this.getIndexOfItem = getIndexOfItem;\r\n        this.chnageTablePage = chnageTablePage;\r\n        this.updateTableWithNewDataSet = updateTableWithNewDataSet;\r\n        this.sortFilesBy = sortFilesBy;\r\n        this.groupByAttribute = groupByAttribute;\r\n\r\n        function getNumberOfPages(dataSet) {\r\n            var pagesNumber = parseInt(dataSet.length / stepSize);\r\n            if((dataSet.length % stepSize) > 0) {\r\n                pagesNumber++;\r\n            }\r\n            return pagesNumber;\r\n        }\r\n\r\n\r\n        function filterDataByPage(pageNumber, dataToFilter) {\r\n                var startIndex = (pageNumber - 1) * stepSize;\r\n                var endIndex = (pageNumber * stepSize);\r\n\r\n                return dataToFilter.slice(startIndex, endIndex);\r\n        }\r\n\r\n\r\n        function getIndexOfItem(arrayList, itemToFind) {\r\n            for(var i = 0; i < arrayList.length; i++) {\r\n                var item = arrayList[i];\r\n\r\n                /*\r\n                 * different instances of an object are never equal\r\n                 * so we compare all their properties like this\r\n                 */\r\n                if(angular.toJson(item) === angular.toJson(itemToFind)){\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n\r\n\r\n        function chnageTablePage(table, pageNumber) {\r\n            if(pageNumber !== null && pageNumber > 0 && pageNumber <= table.pagesArray.length) {\r\n                table.currentPage = pageNumber;\r\n                table.filteredFiles = filterDataByPage(pageNumber, table.allFiles);\r\n            }\r\n\r\n            table.visiblePagesArray = [];\r\n            var startIndex = 0;\r\n\r\n            if((pageNumber + 4) <= table.pagesArray.length) {\r\n                startIndex = pageNumber > 1 ? pageNumber -1 : 1;\r\n            } else {\r\n                startIndex = table.pagesArray.length - 4;\r\n            }\r\n\r\n            for (var i = startIndex; i <= (startIndex + 4); i++) {\r\n                table.visiblePagesArray.push(i);\r\n            }\r\n        }\r\n\r\n\r\n        function updateTableWithNewDataSet(table, newDataSet, isGrouped, skipSort) {\r\n            table.allFiles = newDataSet\r\n\r\n            var numberOfPages = getNumberOfPages(table.allFiles);\r\n            table.pagesArray = new Array(numberOfPages);\r\n\r\n            if (table.allFiles.length > 0) {\r\n                if(table.currentPage === null) {\r\n                    chnageTablePage(table, 1);\r\n                } else {\r\n                   /* If the last page was longer than the new pagesArray, set it to the pagesArray length*/\r\n                    var newPage = table.currentPage > table.pagesArray.length ? table.pagesArray.length : table.currentPage;\r\n                    chnageTablePage(table, newPage);\r\n                }\r\n\r\n               /*If we got an empty array then reset the values*/\r\n            } else {\r\n                table.currentPage = null;\r\n                table.filteredFiles = [];\r\n            }\r\n\r\n            if(!isGrouped && !skipSort) {\r\n                sortFilesBy(table, \"filename\");\r\n                table.initialFilesList = table.allFiles;\r\n            }\r\n        }\r\n\r\n        function sortFilesBy(table, attribute) {\r\n            if(table.sortedBy !== attribute) {\r\n\r\n                table.sortedBy = attribute;\r\n                table.sortOrder = \"asc\";\r\n                arrayUtil.ascSortList(table.allFiles, attribute);\r\n\r\n            } else if(table.sortedBy === attribute) { //If already sorted by this attribute, then revert the list\r\n\r\n                if (table.sortOrder === \"asc\") {\r\n                    table.sortOrder = \"desc\";\r\n                    arrayUtil.descSortList(table.allFiles, attribute);\r\n                } else {\r\n                    table.sortOrder = \"asc\";\r\n                    arrayUtil.ascSortList(table.allFiles, attribute);\r\n                }\r\n            }\r\n\r\n            chnageTablePage(table, 1);\r\n        }\r\n\r\n        function groupByAttribute(table, attribute) {\r\n            var goupedFileList = [];\r\n            var allAttributesList = [];\r\n\r\n            angular.forEach(table.allFiles, function(file) {\r\n                this.push(file[attribute]);\r\n            }, allAttributesList);\r\n\r\n            var attributeGroupList = arrayUtil.filterUniqueItems(allAttributesList);\r\n\r\n            angular.forEach(attributeGroupList, function(attributeGroup) {\r\n                   var filesUnderGroup = table.allFiles.filter(function(file) {\r\n                        return file[attribute] === attributeGroup;\r\n                    });\r\n\r\n                var groupObject = {};\r\n                groupObject[attribute] = attributeGroup;\r\n                groupObject['isGroup'] = true;\r\n\r\n                goupedFileList.push(groupObject);\r\n\r\n                goupedFileList = goupedFileList.concat(filesUnderGroup);\r\n            });\r\n\r\n            updateTableWithNewDataSet(table, goupedFileList, true);\r\n        }\r\n    }\r\n\r\n})();\r\n\n(function() {\r\n    'use strict';\r\n\r\n    angular\r\n        .module('sbApp')\r\n        .service('fileListService', fileListService);\r\n\r\n    /** @ngInject */\r\n    function fileListService($http, $q) {\r\n\r\n        this.getListOfFiles = getListOfFiles;\r\n\r\n        function getListOfFiles() {\r\n            var deferred = $q.defer();\r\n            $http({\r\n                url: 'http://jsonstub.com/sbapp/files',\r\n                method: 'GET',\r\n                dataType: 'json',\r\n                data: '',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'JsonStub-User-Key': '196a9c46-1682-40bd-994b-b9f417caa5fc',\r\n                    'JsonStub-Project-Key': 'e0cb1a9a-aa98-4d0c-a17d-a38eb0f7509f'\r\n                }\r\n            }).then(function successCallback(response) {\r\n                    deferred.resolve(response.data);\r\n                }, function errorCallback(response) {\r\n                    deferred.reject(response);\r\n                });\r\n\r\n            return deferred.promise;\r\n        }\r\n    }\r\n\r\n})();\r\n\n(function() {\n  'use strict';\n\n  angular\n    .module('sbApp')\n    .controller('MainController', MainController);\n\n  /** @ngInject */\n  function MainController($log, fileListService, tableService, $timeout) {\n      var vm = this;\n      var initialFileIndex = null;\n\n      vm.modalFile = {};\n\n      vm.table = {\n          initialFilesList: [],\n          allFiles: [],\n          filteredFiles: [],\n          currentPage : null,\n          pagesArray : null,\n          visiblePagesArray: null,\n          sortedBy: null,\n          sortOrder: null,\n          groupedBy: null\n      };\n\n      vm.chnageTablePage = function(pageNumber) {\n          tableService.chnageTablePage(vm.table, pageNumber);\n      };\n\n      vm.getIndexOfItem = function(arrayList, itemToFind) {\n          return tableService.getIndexOfItem(arrayList, itemToFind);\n      };\n\n      vm.floatTheadOptions = {\n          top: 0,\n          position: 'absolute'\n      };\n\n      vm.sortBy = function(attribute) {\n          tableService.sortFilesBy(vm.table, attribute)\n      };\n\n      vm.groupByAttribute = function(attribute) {\n          if(attribute !== '') {\n              /*We need to reset the table data before grouping*/\n              tableService.updateTableWithNewDataSet(vm.table, vm.table.initialFilesList, false)\n\n              vm.table.groupedBy = attribute;\n              tableService.groupByAttribute(vm.table, attribute);\n          } else {\n              vm.table.groupedBy = null;\n              updateTableWithNewDataSet();\n          }\n      };\n\n      vm.getGroupByText = function() {\n          switch(vm.table.groupedBy) {\n              case \"filename\":\n                  return \"File Name\";\n              case \"type\":\n                  return \"Type\";\n              case \"date\":\n                  return \"Date\";\n              case \"size\":\n                  return \"Size\";\n              default:\n                  return \"No Grouping\";\n          }\n      };\n\n      vm.toggleFileSelect = function(file) {\n          file.selected = file.selected ? false : true;\n      };\n\n      /*\n      * This is a very ugly solution for saving/discarding changes,\n      * But I really don't have time for a nicer one\n      * */\n      vm.selectFile = function(file) {\n          /*Clone the object*/\n          vm.selectedFile = angular.fromJson(angular.toJson(file));\n          initialFileIndex = vm.getIndexOfItem(vm.table.allFiles, file);\n      };\n\n      vm.saveChanges = function() {\n          vm.table.filteredFiles[initialFileIndex] = vm.selectedFile;\n          vm.table.allFiles[initialFileIndex] = vm.selectedFile;\n          tableService.updateTableWithNewDataSet(vm.table, vm.table.allFiles, false, true);\n      };\n\n\n      vm.deleteFile = function() {\n          vm.table.filteredFiles.splice(initialFileIndex, 1);\n          vm.table.allFiles.splice(initialFileIndex, 1);\n          tableService.updateTableWithNewDataSet(vm.table, vm.table.allFiles, false, true);\n      };\n\n      updateTableWithNewDataSet();\n\n      function updateTableWithNewDataSet() {\n          fileListService.getListOfFiles().then(function (data) {\n              $timeout(tableService.updateTableWithNewDataSet(vm.table, data, false), 0);  //Put this in the event queue with timeout\n              $log.log(data.length);\n          }, function (reason) {\n              $log.error('Failed: ' + reason);\n          });\n      }\n    }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('sbApp')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('sbApp')\n    .config(routeConfig);\n\n  function routeConfig($routeProvider) {\n    $routeProvider\n      .when('/', {\n        templateUrl: 'app/main/main.html',\n        controller: 'MainController',\n        controllerAs: 'mainCtrl'\n      })\n      .otherwise({\n        redirectTo: '/'\n      });\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('sbApp');\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('sbApp')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"sbApp\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/main/main.html\",\"<header id=\\\"mainHeader\\\"><h1>File List App</h1></header><div class=\\\"container\\\"><div class=\\\"jumbotron\\\" ng-show=\\\"mainCtrl.table.filteredFiles.length === 0\\\"><h1>Loading data...</h1></div><header id=\\\"tableHeader\\\" ng-hide=\\\"mainCtrl.table.filteredFiles.length === 0\\\"><span class=\\\"currentPage\\\">Page {{mainCtrl.table.currentPage}} out of {{mainCtrl.table.pagesArray.length}}</span><div class=\\\"dropdown dropdownDiv\\\"><strong>Group by:</strong> <button class=\\\"btn btn-default dropdown-toggle\\\" id=\\\"groupDropDown\\\" type=\\\"button\\\" data-toggle=\\\"dropdown\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\">{{mainCtrl.getGroupByText()}} <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" aria-labelledby=\\\"groupDropDown\\\"><li><a class=\\\"noGrouping\\\" ng-click=\\\"mainCtrl.groupByAttribute(\\'\\')\\\" href=\\\"#/\\\">No Grouping</a></li><li><a href=\\\"#/\\\" ng-click=\\\"mainCtrl.groupByAttribute(\\'filename\\')\\\">File Name</a></li><li><a href=\\\"#/\\\" ng-click=\\\"mainCtrl.groupByAttribute(\\'type\\')\\\">Type</a></li><li><a href=\\\"#/\\\" ng-click=\\\"mainCtrl.groupByAttribute(\\'date\\')\\\">Date</a></li><li><a href=\\\"#/\\\" ng-click=\\\"mainCtrl.groupByAttribute(\\'size\\')\\\">Size</a></li></ul></div></header><table id=\\\"fileTable\\\" ng-hide=\\\"mainCtrl.table.filteredFiles.length === 0\\\" float-thead=\\\"mainCtrl.floatTheadOptions\\\" class=\\\"table table-striped table-bordered\\\"><thead class=\\\"fixedHeader\\\"><tr><th>Select</th><th>File Name <a href=\\\"#/\\\" ng-click=\\\"mainCtrl.sortBy(\\'filename\\')\\\" ng-show=\\\"mainCtrl.table.groupedBy === null\\\"><span title=\\\"Sort\\\" ng-class=\\\"{ \\'glyphicon glyphicon-sort glyphicon-align-left\\': mainCtrl.table.sortedBy !== \\'filename\\', \\'glyphicon glyphicon-sort-by-attributes glyphicon-align-left\\': mainCtrl.table.sortedBy === \\'filename\\' && mainCtrl.table.sortOrder === \\'asc\\', \\'glyphicon glyphicon-sort-by-attributes-alt glyphicon-align-left\\': mainCtrl.table.sortedBy === \\'filename\\' && mainCtrl.table.sortOrder === \\'desc\\' }\\\" aria-hidden=\\\"true\\\"></span></a></th><th>Type <a href=\\\"#/\\\" ng-click=\\\"mainCtrl.sortBy(\\'type\\')\\\" ng-show=\\\"mainCtrl.table.groupedBy === null\\\"><span title=\\\"Sort\\\" ng-class=\\\"{ \\'glyphicon glyphicon-sort glyphicon-align-left\\': mainCtrl.table.sortedBy !== \\'type\\', \\'glyphicon glyphicon-sort-by-attributes glyphicon-align-left\\': mainCtrl.table.sortedBy === \\'type\\' && mainCtrl.table.sortOrder === \\'asc\\', \\'glyphicon glyphicon-sort-by-attributes-alt glyphicon-align-left\\': mainCtrl.table.sortedBy === \\'type\\' && mainCtrl.table.sortOrder === \\'desc\\' }\\\" aria-hidden=\\\"true\\\"></span></a></th><th>Date <a href=\\\"#/\\\" ng-click=\\\"mainCtrl.sortBy(\\'date\\')\\\" ng-show=\\\"mainCtrl.table.groupedBy === null\\\"><span title=\\\"Sort\\\" ng-class=\\\"{ \\'glyphicon glyphicon-sort glyphicon-align-left\\': mainCtrl.table.sortedBy !== \\'date\\', \\'glyphicon glyphicon-sort-by-attributes glyphicon-align-left\\': mainCtrl.table.sortedBy === \\'date\\' && mainCtrl.table.sortOrder === \\'asc\\', \\'glyphicon glyphicon-sort-by-attributes-alt glyphicon-align-left\\': mainCtrl.table.sortedBy === \\'date\\' && mainCtrl.table.sortOrder === \\'desc\\' }\\\" aria-hidden=\\\"true\\\"></span></a></th><th>Size <a href=\\\"#/\\\" ng-click=\\\"mainCtrl.sortBy(\\'size\\')\\\" ng-show=\\\"mainCtrl.table.groupedBy === null\\\"><span title=\\\"Sort\\\" ng-class=\\\"{ \\'glyphicon glyphicon-sort glyphicon-align-left\\': mainCtrl.table.sortedBy !== \\'size\\', \\'glyphicon glyphicon-sort-by-attributes glyphicon-align-left\\': mainCtrl.table.sortedBy === \\'size\\' && mainCtrl.table.sortOrder === \\'asc\\', \\'glyphicon glyphicon-sort-by-attributes-alt glyphicon-align-left\\': mainCtrl.table.sortedBy === \\'size\\' && mainCtrl.table.sortOrder === \\'desc\\' }\\\" aria-hidden=\\\"true\\\"></span></a></th><th>Actions</th></tr></thead><tbody><tr ng-repeat=\\\"file in mainCtrl.table.filteredFiles track by $index\\\" ng-class=\\\"{\\'selectedRow\\' : file.selected}\\\"><td ng-show=\\\"file.isGroup\\\" class=\\\"groupTd\\\" colspan=\\\"6\\\"><strong>{{file[mainCtrl.table.groupedBy]}}</strong></td><td ng-show=\\\"!file.isGroup\\\"><input type=\\\"checkbox\\\" ng-checked=\\\"file.selected\\\" ng-click=\\\"mainCtrl.toggleFileSelect(file)\\\"></td><td ng-show=\\\"!file.isGroup\\\">{{file.filename}}</td><td ng-show=\\\"!file.isGroup\\\">{{file.type}}</td><td ng-show=\\\"!file.isGroup\\\">{{file.date}}</td><td ng-show=\\\"!file.isGroup\\\">{{file.size}}</td><td ng-show=\\\"!file.isGroup\\\"><a href=\\\"#/\\\" title=\\\"Edit\\\" class=\\\"actionButton glyphicon glyphicon-edit\\\" data-toggle=\\\"modal\\\" data-target=\\\"#editModal\\\" ng-click=\\\"mainCtrl.selectFile(file)\\\" aria-hidden=\\\"true\\\"></a> <a href=\\\"#/\\\" title=\\\"Delete\\\" class=\\\"actionButton glyphicon glyphicon-remove\\\" data-toggle=\\\"modal\\\" data-target=\\\"#deleteModal\\\" ng-click=\\\"mainCtrl.selectFile(file)\\\" aria-hidden=\\\"true\\\"></a> <a href=\\\"#/\\\" title=\\\"Display MetaData\\\" class=\\\"actionButton glyphicon glyphicon-info-sign\\\" ng-show=\\\"file.metadata\\\" data-toggle=\\\"modal\\\" data-target=\\\"#metaModal\\\" ng-click=\\\"mainCtrl.selectFile(file)\\\" aria-hidden=\\\"true\\\"></a></td></tr></tbody></table><nav id=\\\"tableNav\\\" ng-hide=\\\"mainCtrl.table.filteredFiles.length === 0\\\"><p class=\\\"currentPage\\\">Page {{mainCtrl.table.currentPage}} out of {{mainCtrl.table.pagesArray.length}}</p><ul class=\\\"pagination\\\"><li><a href=\\\"#/\\\" aria-label=\\\"Previous\\\" ng-class=\\\"{\\'disabledLink\\' : mainCtrl.table.currentPage === 1}\\\" ng-click=\\\"mainCtrl.chnageTablePage(mainCtrl.table.currentPage - 1)\\\"><span aria-hidden=\\\"true\\\">&laquo;</span></a></li><li ng-show=\\\"mainCtrl.table.currentPage > 2\\\"><a href=\\\"#/\\\" ng-click=\\\"mainCtrl.chnageTablePage(1)\\\">1</a></li><li ng-show=\\\"mainCtrl.table.currentPage > 2\\\"><a class=\\\"disabledItem\\\">...</a></li><li ng-repeat=\\\"page in mainCtrl.table.visiblePagesArray track by $index\\\"><a href=\\\"#/\\\" ng-class=\\\"{\\'selectedLink\\' : mainCtrl.table.currentPage === page}\\\" ng-click=\\\"mainCtrl.chnageTablePage(page)\\\">{{page}}</a></li><li ng-show=\\\"mainCtrl.table.currentPage < mainCtrl.table.pagesArray.length - 4\\\"><a class=\\\"disabledItem\\\">...</a></li><li ng-show=\\\"mainCtrl.table.currentPage < mainCtrl.table.pagesArray.length - 4\\\"><a href=\\\"#/\\\" ng-click=\\\"mainCtrl.chnageTablePage(mainCtrl.table.pagesArray.length)\\\">{{mainCtrl.table.pagesArray.length}}</a></li><li><a href=\\\"#/\\\" aria-label=\\\"Next\\\" ng-class=\\\"{\\'disabledLink\\' : mainCtrl.table.currentPage === mainCtrl.table.pagesArray.length}\\\" ng-click=\\\"mainCtrl.chnageTablePage(mainCtrl.table.currentPage + 1)\\\"><span aria-hidden=\\\"true\\\">&raquo;</span></a></li></ul></nav></div><div class=\\\"modal fade\\\" id=\\\"editModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"myModalLabel\\\">Edit File</h4></div><div class=\\\"modal-body\\\"><form><div class=\\\"form-group\\\"><label for=\\\"fileNameInput\\\">File Name</label> <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"fileNameInput\\\" placeholder=\\\"File Name\\\" ng-model=\\\"mainCtrl.selectedFile.filename\\\"></div><div class=\\\"form-group\\\"><label for=\\\"typeInput\\\">Type</label> <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"typeInput\\\" placeholder=\\\"Type\\\" ng-model=\\\"mainCtrl.selectedFile.type\\\"></div><div class=\\\"form-group\\\"><label for=\\\"dateInput\\\">Date</label> <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"dateInput\\\" placeholder=\\\"Date\\\" ng-model=\\\"mainCtrl.selectedFile.date\\\"></div><div class=\\\"form-group\\\"><label for=\\\"sizeInput\\\">Size</label> <input type=\\\"number\\\" class=\\\"form-control\\\" id=\\\"sizeInput\\\" placeholder=\\\"Size\\\" ng-model=\\\"mainCtrl.selectedFile.size\\\"></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-danger\\\" data-dismiss=\\\"modal\\\">Close</button> <button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"mainCtrl.saveChanges()\\\">Save changes</button></div></div></div></div><div class=\\\"modal fade\\\" id=\\\"deleteModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"deleteModalHead\\\">Delete File</h4></div><div class=\\\"modal-body\\\">Are you sure you want to delete this file?</div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-danger\\\" data-dismiss=\\\"modal\\\">No</button> <button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-success\\\" ng-click=\\\"mainCtrl.deleteFile()\\\">Yes</button></div></div></div></div><div class=\\\"modal fade\\\" id=\\\"metaModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"myModalLabel\\\"><div class=\\\"modal-dialog\\\" role=\\\"document\\\"><div class=\\\"modal-content\\\"><div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\" aria-label=\\\"Close\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\" id=\\\"metaModalHead\\\">Meta-data</h4></div><div class=\\\"modal-body\\\"><p><label>Title:</label> {{mainCtrl.selectedFile.metadata.title}}</p><p><label>Artist:</label> {{mainCtrl.selectedFile.metadata.artist}}</p><p><label>Album:</label> {{mainCtrl.selectedFile.metadata.album}}</p><p><label>Year:</label> {{mainCtrl.selectedFile.metadata.year}}</p><p><label>Genre:</label> {{mainCtrl.selectedFile.metadata.genre}}</p></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" data-dismiss=\\\"modal\\\" class=\\\"btn btn-primary\\\">Ok</button></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}